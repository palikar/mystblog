<!DOCTYPE html>






































<html
  class="not-ready text-sm lg:text-base"
  style="--bg: #faf6f1"
  lang="en-us">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Emacs windows resizing - Stanislav Arnaudov</title>

  
  <meta name="theme-color" />
  
  <meta name="description" content="Abstract Recently I&rsquo;ve been introduced to the concept of a tiling windows manager. One key feature that caught my attention is how you can quickly resize the different windows and create the desired windows configuration with just a few executions of some keybindings. That got me to wonder how it would cool if I also have that in Emacs. I googled something like &ldquo;resize emacs windows&rdquo; but didn&rsquo;t really (I didn&rsquo;t want really) find a package that can do that." />
  <meta
    name="author"
    content="[Stanislav Arnaudov]"
  />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="/main.min.css" />

  
  <script
    defer
    src="highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
   
  <link rel="preload" as="image" href="theme.png" />

  
  
  
  <link rel="preload" as="image" href="https://www.gravatar.com/avatar/6f49be4b1398e1936dd765ef2df3a6f2?s=160&amp;d=identicon" />
  
  

  
  <link rel="preload" as="image" href="github.svg" />
  
  <link rel="preload" as="image" href="linkedin.svg" />
  
  <link rel="preload" as="image" href="facebook.svg" />
  

  
  <link rel="icon" href="favicon.ico" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.110.0">

  
  

  
  
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-158773896-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-158773896-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
  
  
  
  <meta property="og:title" content="Emacs windows resizing" />
<meta property="og:description" content="A short walkthrough of a Emacs package for windows resizing that I recently wrote." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/emacs_framer/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-06-29T00:00:00+02:00" />
<meta property="article:modified_time" content="2023-02-09T23:51:41+02:00" />

  
  <meta itemprop="name" content="Emacs windows resizing">
<meta itemprop="description" content="A short walkthrough of a Emacs package for windows resizing that I recently wrote."><meta itemprop="datePublished" content="2018-06-29T00:00:00+02:00" />
<meta itemprop="dateModified" content="2023-02-09T23:51:41+02:00" />
<meta itemprop="wordCount" content="1748">
<meta itemprop="keywords" content="" />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Emacs windows resizing"/>
<meta name="twitter:description" content="A short walkthrough of a Emacs package for windows resizing that I recently wrote."/>

  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">

    <img alt="" src='/logos/SA.png' width="48" height="48"/>
    <a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold ml-6" href="">
      Stanislav Arnaudov
    </a>

    <a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]">
    </a>
  </div>

  <a
    class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
  ></a>

  
  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = `"#faf6f1"`.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/"
        >Home</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/projects"
        >Projects</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/posts/"
        >Posts</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/contact/"
        >Contact</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href=" https://github.com/palikar "
        target="_blank"
      ></a>
      
      <a
        class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./linkedin.svg)"
        href=" https://linkedin.com/in/stanislav-arnaudov-37b475164 "
        target="_blank"
      ></a>
      
      <a
        class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./facebook.svg)"
        href=" https://facebook.com/stanislav.ts "
        target="_blank"
      ></a>
      
    </nav>
    
  </div>
</header>


    <main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-4 pt-20 pb-32 dark:prose-invert">
      

<article>
  <header class="mb-20">

    <h1 class="!my-0 pb-2.5">Emacs windows resizing</h1>

    
    <div class="text-sm opacity-60">
      
      <time>Jun 29, 2018</time>
      
      
      <span class="mx-1">&middot;</span>
      <span>[Stanislav Arnaudov]</span>
      <span class="mx-1">&middot;</span>
      <span>8 minute read</span>
      <span class="mx-1">&middot;</span>
      <span>1748 words</span>
      
    </div>
    
  </header>

  <section><h2 id="abstract">Abstract</h2>
<p>Recently I&rsquo;ve been introduced to the concept of a <a href="https://en.wikipedia.org/wiki/Tiling%5Fwindow%5Fmanager">tiling windows manager</a>. One key feature that caught my attention is how you can quickly resize the different windows and create the desired windows configuration with just a few executions of some keybindings. That got me to wonder how it would cool if I also have that in Emacs. I googled something like &ldquo;resize emacs windows&rdquo; but didn&rsquo;t really (I didn&rsquo;t want really) find a package that can do that. So, of course, I used this as an excuse to write a very simple package that would help me achieve what I want - quickly resizing Emacs&rsquo; windows - and in the process would teach me the same new things about <a href="https://en.wikipedia.org/wiki/Emacs%5FLisp">Emacs Lisp programming</a>. <br /> <br /> Oh yeah, and by the way, I created a whole minor Emacs mode for the job. Yes, maybe it is a little bit of an overkill to create a whole mode for this but hey, new knowledge about Emacs and Emacs Lisp never hurts now, does it.</p>
<h2 id="the-existing-way">The existing way</h2>
<p>Before you jump at me, screaming that such functionality already exists in Emacs and theirs no need for a whole new minor mode - yes, I know. Or&hellip; I found eventually&hellip; after I&rsquo;ve already implemented my thing. Again, Emacs Lisp experience - <strong>always good</strong>! <br /> <br /> If you want to take the easy road, several nice functions already exist.</p>
<ul>
<li><code>enlarge-window</code> grows your current window vertically and it&rsquo;s bound to <code>C-x ^</code> by default.</li>
<li><code>enlarge-window-horizontally</code> does the same thing but horizontally (shocking, I know) with default keybinding <code>C-x }</code></li>
</ul>
<p>There are also the functions <code>shrink-window</code> and <code>shrink-window-horizontally</code> for making the window smaller in the desired dimension. The latter one is bound to <code>C-x {</code> and the former is surprisingly not bound by default. You can find more about resizing <a href="https://www.emacswiki.org/emacs/WindowResize">at the official wiki page</a>. <br /> <br /> With all that and quickly setting up some simple keybindings, you can quickly create your desired windows configuration from the comfort of your keyboard. Maybe something like this: <img src="/ox-hugo/emacs_windows-config.png" alt=""></p>
<h2 id="the-my-way">The &ldquo;my way&rdquo;</h2>
<p>So, if you are interested in Emacs programming, you can have this section as a gentle introduction to mode writing.</p>
<br />
<h3 id="mode-definition">Mode definition</h3>
<p>We start by defining a couple of things that we will need for our new minor mode whose definition comes in right after. Each mode deserves its own <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/elisp/Group-Definitions.html">group</a>. You know, the name of you give while you call <code>customize-group</code> when you want to configure some new package that you&rsquo;ve downloaded. Our group will be used to house the one <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/emacs/Easy-Customization.html">custom</a> that we have. The group definition is really easy with the macro <code>defgroup</code>. It&rsquo;s basically a one liner:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(defgroup framer <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;Custom variables for framer-mode&#34;</span>)
</span></span></code></pre></div><p>&ldquo;framer&rdquo; is the name, the second argument is a list of the customs that are in the group but it&rsquo;s more convenient to define them later by specifying the group that each custom belongs to. The third argument is a string that will be displayed near the top while customizing the package&rsquo;s customs. <br /> <br /> <em>Note:</em> Customs are the configurable options of a given package in Emacs. Emacs makes it easy to write such customizable variables that later can be configured by the user of your package. <br /> <br /> After the group, we need a <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/elisp/Keymap-Basics.html#Keymap-Basics">keymap</a> for our mode. In it, we&rsquo;ll define all the keybindings that will be activated when the mode is active. The definition is again relatively straight forward:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(defconst framer-mode-map
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>      (
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">map</span> (make-keymap))
</span></span><span style="display:flex;"><span>       )
</span></span><span style="display:flex;"><span>    (define-key <span style="color:#a6e22e">map</span> (kbd <span style="color:#e6db74">&#34;S-&lt;up&gt;&#34;</span>) <span style="color:#e6db74">&#39;framer-increase-height</span>)
</span></span><span style="display:flex;"><span>    (define-key <span style="color:#a6e22e">map</span> (kbd <span style="color:#e6db74">&#34;S-&lt;down&gt;&#34;</span>) <span style="color:#e6db74">&#39;framer-decrease-height</span>)
</span></span><span style="display:flex;"><span>    (define-key <span style="color:#a6e22e">map</span> (kbd <span style="color:#e6db74">&#34;S-&lt;right&gt;&#34;</span>) <span style="color:#e6db74">&#39;framer-increase-width</span>)
</span></span><span style="display:flex;"><span>    (define-key <span style="color:#a6e22e">map</span> (kbd <span style="color:#e6db74">&#34;S-&lt;left&gt;&#34;</span>) <span style="color:#e6db74">&#39;framer-decrease-width</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">map</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Keymap for Framer minor mode.&#34;</span>)
</span></span></code></pre></div><p>The map is defined in a variable named <code>framer-mode-map</code>. The actual keymap creation is done with the function <code>make-keymap</code>. After that, in the body of the <code>let</code>-block we define the individual keybinding in the keymap and which functions they call. We haven&rsquo;t defined the functions (<code>framer-increase-height</code>, &hellip;) yet but don&rsquo;t worry. <br /> <br /> At this point we are ready to define our mode. As many other packages, we&rsquo;ll actually define two modes:</p>
<ul>
<li>one global that will take effect in the whole &ldquo;Emacs process&rdquo;</li>
<li>and one that will only affect the current buffer.</li>
</ul>
<p>The actual definition is pretty easy and is done through the macro <code>define-minor-mode</code>. The definitions of our two modes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(define-minor-mode framer-mode
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Mode that enables manual control over emacs frames&#39; sizes.&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:lighter</span> <span style="color:#e6db74">&#34; Framer&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:keymap</span> framer-mode-map
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:group</span> <span style="color:#e6db74">&#39;framer</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(define-minor-mode global-framer-mode
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Mode that enables manual control over emacs frames&#39; sizes.&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:lighter</span> <span style="color:#e6db74">&#34; Framer&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:keymap</span> framer-mode-map
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:global</span> <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:group</span> <span style="color:#e6db74">&#39;framer</span>)
</span></span></code></pre></div><p>Here we use the already defined group and keymap and we pass them to the appropriate key-word attributes - <code>group</code> and <code>keymap</code> respectively. What is pass to <code>:lighter</code> is the thing that will be displayed in the modeline while the mode is active. Be sure to have that leading space or the text of your mode will be &ldquo;glued&rdquo; to the text of the previous mode in the modeline. <code>:global</code> indicates of the mode is global or not (yes, I bet you needed that explanation). <br /> <br /> For more information on how to write modes for Emacs, check out <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/elisp/Defining-Minor-Modes.html">this</a> page from the official documentation. <br /> <br /> Ok, one last thing before we actually define our functions for resizing - we&rsquo;ll create one custom that will indicate how big is the resizing gap with which we&rsquo;ll be changing the size of the windows. The name of it will be appropriate <code>resizing-step</code>, it&rsquo;ll have a default value of 50 and it will be an integer.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(defcustom resizing-step <span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;The amount with which the dimension of the current windows will be decreased/increased.&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:type</span> <span style="color:#e6db74">&#39;integer</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:group</span> <span style="color:#e6db74">&#39;framer</span>)
</span></span></code></pre></div><p>The docstring, in the beginning, is what will be displayed to the user in the customization buffer near the name of the custom. <br /> <br /> And we that we are ready with me minor mode boilerplate. Now let&rsquo;s get to the actual problem.</p>
<h3 id="core-functions-definition">Core functions definition</h3>
<p>There are a couple of handy functions in Emacs that make the resizing of windows easy. We&rsquo;ll use them and make them a tiny bit smarter. Those functions are <code>window-resizable</code> and <code>window-resize</code> (documentation <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/elisp/Resizing-Windows.html">here</a>). The first one checks if the resizing is possible and the second one does the actual resizing. I figured that it is a good idea always to check if the resizing is allowed before calling <code>windows-resize</code>. So, resizing in width will look like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>))
</span></span></code></pre></div><p>The first argument is the windows to be resized - if <code>nil</code>, the current windows will be considered. The second argument is obvious, the third whether the resizing is vertical or horizontal - <code>t</code> for horizontal, <code>nil</code> for vertical. The last <code>t</code> indicates that the given amount is in pixels. <br /> <br /> As said, we want to make the resizing smart and intuitive while doing it with arrow keys. This means that we with the same arrow must either shrink or grow the window depending on whether it is on the top or the bottom of other windows. Put simply - we want the size of the window to change in the direction we are pointing with the pressed arrow. So, the question becomes, how do we figure out where is the selected window. <br /> In a script from <a href="https://www.emacswiki.org/emacs/MathiasDahl">Mathias Dahl</a> I&rsquo;ve found those two nifty convenience functions that can tell you where the current window is located with respect to the other ones. For example, whether the window is on the left, right or in the middle, between two other windows. The functions are:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(defun win-resize-left-or-right ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Figure out if the current window is to the left, right or in the middle.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">let*</span> ((win-edges (window-edges))
</span></span><span style="display:flex;"><span>     (this-window-x-min (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">0</span> win-edges))
</span></span><span style="display:flex;"><span>     (this-window-x-max (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">2</span> win-edges))
</span></span><span style="display:flex;"><span>     (fr-width (frame-width)))
</span></span><span style="display:flex;"><span>    (cond
</span></span><span style="display:flex;"><span>     ((<span style="color:#a6e22e">eq</span> <span style="color:#ae81ff">0</span> this-window-x-min) <span style="color:#e6db74">&#34;left&#34;</span>)
</span></span><span style="display:flex;"><span>     ((<span style="color:#a6e22e">eq</span> (<span style="color:#a6e22e">+</span> fr-width <span style="color:#ae81ff">2</span>) this-window-x-max) <span style="color:#e6db74">&#34;right&#34;</span>)
</span></span><span style="display:flex;"><span>     (<span style="color:#66d9ef">t</span> <span style="color:#e6db74">&#34;mid&#34;</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defun win-resize-top-or-bot ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Figure out if the current window is on the top, bottom or in the middle.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">let*</span> ((win-edges (window-edges))
</span></span><span style="display:flex;"><span>     (this-window-y-min (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">1</span> win-edges))
</span></span><span style="display:flex;"><span>     (this-window-y-max (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">3</span> win-edges))
</span></span><span style="display:flex;"><span>     (fr-height (frame-height)))
</span></span><span style="display:flex;"><span>    (cond
</span></span><span style="display:flex;"><span>     ((<span style="color:#a6e22e">eq</span> <span style="color:#ae81ff">0</span> this-window-y-min) <span style="color:#e6db74">&#34;top&#34;</span>)
</span></span><span style="display:flex;"><span>     ((<span style="color:#a6e22e">eq</span> (<span style="color:#a6e22e">-</span> fr-height <span style="color:#ae81ff">1</span>) this-window-y-max) <span style="color:#e6db74">&#34;bot&#34;</span>)
</span></span><span style="display:flex;"><span>     (<span style="color:#66d9ef">t</span> <span style="color:#e6db74">&#34;mid&#34;</span>))))
</span></span></code></pre></div><p>With <code>win-resize-left-or-right</code> the implementations of <code>framer-decrease-width</code> and <code>framer-increase-width</code> becomes clear. For decreasing the width of the window we first check where we are currently and depending on the location we grow or shrink the window. Remember our keymap. There we grow the width with the left arrow so</p>
<ul>
<li>if on the right, we grow because the left arrow points in the &ldquo;growing direction&rdquo;</li>
<li>if on the left, we shrink for the exact opposite reason</li>
<li>if in the middle, we treat the window as it is on the right. Trust me, it makes sense if done this way.</li>
</ul>
<p>For <code>framer-decrease-width</code> we do the exact opposite thing. There where we were shrinking, we grow and vice-versa. <br /> <br /> We perform the checks in a simple <code>cond</code> block and with that we have:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(defun framer-increase-width ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Make the current frame smaller in width.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (cond
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;right&#34;</span> (win-resize-left-or-right))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;left&#34;</span> (win-resize-left-or-right))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   (<span style="color:#66d9ef">t</span> (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>          (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defun framer-decrease-width ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Make the current frame smaller in width.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (cond
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;right&#34;</span> (win-resize-left-or-right))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;left&#34;</span> (win-resize-left-or-right))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   (<span style="color:#66d9ef">t</span> (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>          (window-resize <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))))
</span></span></code></pre></div><p><code>framer-increase-height</code> and <code>framer-increase-height</code> are implemented more or less the same way.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defun framer-increase-height ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Make the current frame smaller in width.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (cond
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;top&#34;</span> (win-resize-top-or-bot))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;bot&#34;</span> (win-resize-top-or-bot))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   (<span style="color:#66d9ef">t</span> (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>          (window-resize <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defun framer-decrease-height ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Make the current frame smaller in width.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (cond
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;top&#34;</span> (win-resize-top-or-bot))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   ((<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;bot&#34;</span> (win-resize-top-or-bot))
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (window-resize <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">-</span> resizing-step) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>   (<span style="color:#66d9ef">t</span> (<span style="color:#66d9ef">if</span> (window-resizable <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>          (window-resize <span style="color:#66d9ef">nil</span> resizing-step <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))))
</span></span></code></pre></div><p><br /> <br /> And there you have it, reinventing the wheel in a timely wasteful manner. <span class="underline">Awesome</span>, amirite!</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://nullprogram.com/blog/2013/02/06/">How to Make an Emacs Minor Mode</a> - good starting point if you want to extend your Emacs with some custom minor modes.</li>
</ul>
</section>

  
  


  
  
  <div id="disqus_thread"></div>

<script>

 function readCookie(name)
 {
   var nameEQ = name + "=";
   var ca = document.cookie.split(';');
   for(var i=0;i < ca.length;i++) {
     var c = ca[i];
     while (c.charAt(0)==' ') c = c.substring(1,c.length);
     if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
   }
   return null;
 }

 (function() {
   let cookieValue = readCookie('consent-settings');
   if (cookieValue)
   {
     var consentValue = cookieValue.toString();
     if (consentValue[1] === "1")
     {	    
       const disqusShortname = 'palikar-github-io';
       const script = document.createElement('script');
       script.src = 'https://' + disqusShortname + '.disqus.com/embed.js';
       script.setAttribute('data-timestamp', + new Date());
       document.head.appendChild(script);
     }
   }
 })();
 
</script>

  
</article>


    </main>

    <footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60">
  <div class="mr-auto">
    &copy; 2023
    <a class="link" href="">Stanislav Arnaudov</a>
  </div>
  <a class="link mx-6" href="#cookies" onclick="document.getElementById('consent-notice').style.display = 'block'; ">Cookie Policy</a>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank">Powered by Hugo</a>
  Theme: 
  <a class="link" href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank" >Paper 6</a>
</footer>


    <style>
    #consent-notice {padding: 1rem 1rem; display: none; text-align: center; position: fixed; bottom: 0; width: calc(100% - 2rem); background: #222; color: white;}
    #consent-notice span {margin-right: 1rem;}
    #consent-notice button {cursor: pointer; display: inline-block; width: auto;}
    #consent-notice span a {color: white; text-decoration: underline; text-decoration-color: rgba(255,255,255,0.5);}
    #consent-notice button.btn {margin-left: 0.5rem;}
    #consent-notice button.btn.manage-consent {background: rgba(255,255,255,0.1); font-weight: normal;}
    
    #consent-overlay {position: fixed; left: 0; top: 0; width: 100%; height: 100vh; display: none; background: rgba(0,0,0,0.75); z-index: 999999; overflow: auto; cursor: pointer;}
    #consent-overlay.active {display: flex;}
    #consent-overlay > div {background: white; width: 100%; max-width: 30rem; padding: 1.75rem; margin: auto; cursor: initial;}
    #consent-overlay > div > div {display: flex; align-items: flex-start; margin-bottom: 1rem;}
    #consent-overlay > div > div:last-child {margin: 0;}
    #consent-overlay h3 {padding-top: 0;}
    #consent-overlay input {margin-top: 0.3rem;}
    #consent-overlay label {display: block; color: black; }
    #consent-overlay .btn {margin-right: 0.5rem;}
    #consent-overlay button.btn.save-consent {background: rgba(0,0,0,0.6); font-weight: normal;}

    @media (max-width: 767px) {
        #consent-overlay > div {padding: 1.75rem 1rem;}
        #consent-notice span {display: block; padding-top: 3px; margin-bottom: 1.5rem;}
        #consent-notice button.btn {position: relative; bottom: 4px;}
    }
</style>

<div id="consent-notice">
  <span>We would like to use <a class="manage-consent" href="#manage-consent">third party code</a> to improve the functionality of this website.</span>
  <span><a class="link mx-6" href="/cookies" onclick="document.getElementById('consent-notice').style.display = 'block'; ">More Information</a></span>
  <button class="btn manage-consent">Manage preferences</button>
  <button class="btn deny-consent">Deny</button>
  <button class="btn approve-consent">Allow</button>
</div>

<div id="consent-overlay">
    <div>
        
            <div>
                <input type="checkbox" id="item0" value="1" name="item0"  />
                <label for="item0">
                  <h3>Google Anaytics (functional)</h3>
		  <p>This code gives us insight into the number of people that visit our website, where they are from and what they are clicking on.</p>
                </label>
            </div>
        
            <div>
                <input type="checkbox" id="item1" value="1" name="item1"  />
                <label for="item1">
                  <h3>Disqus Comment service</h3>
		  <p>The code allows to use the Disqus service for comments on the posts</p>
                </label>
            </div>
        
        <div>
            <button id="save-consent" class="btn save-consent" data-consentvalue="00">Save preferences</button>
            <button class="btn approve-consent">Allow all</button>
        </div>
    </div>
</div>
<script>

    const scripts = [];
    scripts[ 0 ] = "/js/ga.js";
    scripts[ 1 ] = "/js/disqus.js";

    function createCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    function eraseCookie(name) {
        createCookie(name,"",-1);
    }
    function denyAllConsentScripts() {
        var consentValue = "";
        scripts.forEach(function(){
            consentValue = consentValue + "0";
        });
        acceptSomeConsentScripts(consentValue);
    }
    function acceptAllConsentScripts() {
        var consentValue = "";
        scripts.forEach(function(){
            consentValue = consentValue + "1";
        });
        acceptSomeConsentScripts(consentValue);
    }
    function acceptSomeConsentScripts(consentValue) {
        setConsentInputs(consentValue);
        createCookie('consent-settings',consentValue,31);
        document.getElementById('consent-notice').style.display = 'none';
        document.getElementById('consent-overlay').classList.remove('active');
        loadConsentScripts(consentValue);
    }
    function loadConsentScripts(consentValue) {
        scripts.forEach(function(value,key){
            
            if(consentValue[key]=="1") {
                var s = document.createElement('script');
                s.type = 'text/javascript';
                s.src = value;
                document.body.appendChild(s);
            }
        });
    }
    function setConsentInputs(consentValue) {
        var elements = document.querySelectorAll('#consent-overlay input:not([disabled])');
        elements.forEach(function(el,index) {
            if(consentValue[index]=="1") el.checked = true;
            else el.checked = false;
        });
    }
    function setConsentValue() {
        var elements = document.querySelectorAll('#consent-overlay input:not([disabled])');
        var consentValue = "";
        elements.forEach(function(el) {
            if(el.checked) consentValue = consentValue + "1";
            else consentValue = consentValue + "0";
        });
        document.getElementById("save-consent").dataset.consentvalue = consentValue;
    }
 
    var elements = document.querySelectorAll('#consent-overlay input:not([disabled])');
    elements.forEach(function(el) {
        el.checked = false;
    });

    if(readCookie('consent-settings')) {
        var consentValue = readCookie('consent-settings').toString();
        setConsentInputs(consentValue);
        loadConsentScripts(consentValue);
    } else {
      document.getElementById('consent-notice').style.display = 'block';
    }
 var elements = document.querySelectorAll('.manage-consent');
    elements.forEach(function(el) {
        el.addEventListener("click",function() {
            document.getElementById('consent-overlay').classList.toggle('active');
        });
    });
    var elements = document.querySelectorAll('.deny-consent');
    elements.forEach(function(el) {
        el.addEventListener("click",function() {
            denyAllConsentScripts();
        });
    });
    var elements = document.querySelectorAll('.approve-consent');
    elements.forEach(function(el) {
        el.addEventListener("click",function() {
          acceptAllConsentScripts();
        });
    });
    document.getElementById("save-consent").addEventListener("click",function() {
        setConsentValue();
        acceptSomeConsentScripts(this.dataset.consentvalue);
    });
    document.getElementById("consent-overlay").addEventListener("click",function(e) {
        if (!document.querySelector("#consent-overlay > div").contains(e.target)){
            this.classList.toggle('active');
        }
    });
</script>


    

    


  </body>
</html>
